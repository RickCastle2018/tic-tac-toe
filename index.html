<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic-Tac-Toe</title>

    <link href="/ext/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <header>
        <h1>Tic-Tac-Toe</h1>
        <p>Description</p>
        <button type="button">Create a room</button>
    </header>

    <main>
        <ul>
            <li>
                <h2>
                    <a href="#">
                        0x000000000000
                    </a>
                </h2>
            </li>
        </ul>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.5/web3.min.js"></script>
    <script>
        const address = '0xE3e86D75639Df779416cA16f264ffA7fbe68775f';
        const interface = [{"inputs":[],"name":"createRoom","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"roomNumber","type":"uint256"}],"name":"joinRoom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"index","type":"uint8"},{"internalType":"uint256","name":"roomNumber","type":"uint256"}],"name":"makeMove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint8","name":"roomIndex","type":"uint8"}],"name":"hasWinner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"rooms","outputs":[{"internalType":"address","name":"currentPlayer","type":"address"},{"internalType":"address","name":"playerO","type":"address"},{"internalType":"address","name":"playerX","type":"address"},{"internalType":"address","name":"winner","type":"address"},{"internalType":"bool","name":"isGameFinished","type":"bool"}],"stateMutability":"view","type":"function"}]

        const web3 = new Web3('https://goerli.infura.io/v3/');
        const contract = new web3.eth.Contract(interface, address);

        async function getRoom(contract, room) {
            return contract.methods.rooms(room).call();
        }

        console.log(await getRoom(contract, 0));
    </script>
</body>

</html>

